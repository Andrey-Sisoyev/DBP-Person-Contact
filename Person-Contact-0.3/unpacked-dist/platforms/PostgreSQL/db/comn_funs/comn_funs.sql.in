DROP SCHEMA IF EXISTS pst CASCADE;

-- Adjust this setting to control where the objects get created.
CREATE SCHEMA pst;
SET search_path = pst;

CREATE OR REPLACE FUNCTION sprintf(fmt text, VARIADIC args "any")
RETURNS text 
AS 'MODULE_PATHNAME','pst_sprintf'
LANGUAGE C IMMUTABLE;

CREATE OR REPLACE FUNCTION sprintf(fmt text)
RETURNS text 
AS 'MODULE_PATHNAME','pst_sprintf_nv'
LANGUAGE C IMMUTABLE;

CREATE OR REPLACE FUNCTION format(fmt text, VARIADIC args "any")
RETURNS text 
AS 'MODULE_PATHNAME','pst_format'
LANGUAGE C IMMUTABLE;

CREATE OR REPLACE FUNCTION format(fmt text)
RETURNS text 
AS 'MODULE_PATHNAME','pst_format_nv'
LANGUAGE C IMMUTABLE;

CREATE OR REPLACE FUNCTION concat(VARIADIC args "any")
RETURNS text 
AS 'MODULE_PATHNAME','pst_concat'
LANGUAGE C IMMUTABLE;

CREATE OR REPLACE FUNCTION concat_ws(separator text, VARIADIC args "any")
RETURNS text 
AS 'MODULE_PATHNAME','pst_concat_ws'
LANGUAGE C IMMUTABLE;

CREATE OR REPLACE FUNCTION concat_js(VARIADIC args "any")
RETURNS text 
AS 'MODULE_PATHNAME','pst_concat_js'
LANGUAGE C IMMUTABLE;

CREATE OR REPLACE FUNCTION concat_sql(VARIADIC args "any")
RETURNS text 
AS 'MODULE_PATHNAME','pst_concat_sql'
LANGUAGE C IMMUTABLE;

CREATE OR REPLACE FUNCTION rvrs(str text)
RETURNS text 
AS 'MODULE_PATHNAME','pst_rvrs'
LANGUAGE C IMMUTABLE STRICT;

CREATE OR REPLACE FUNCTION left(str text, n int)
RETURNS text 
AS 'MODULE_PATHNAME','pst_left'
LANGUAGE C IMMUTABLE STRICT;

CREATE OR REPLACE FUNCTION right(str text, n int)
RETURNS text 
AS 'MODULE_PATHNAME','pst_right'
LANGUAGE C IMMUTABLE STRICT;

CREATE OR REPLACE FUNCTION chars_to_array(str text)
RETURNS text[] 
AS 'MODULE_PATHNAME','pst_chars_to_array'
LANGUAGE C IMMUTABLE STRICT;

CREATE OR REPLACE FUNCTION next_day(day date, dow text)
RETURNS date
AS 'MODULE_PATHNAME','pst_next_day'
LANGUAGE C IMMUTABLE STRICT;

CREATE OR REPLACE FUNCTION last_day(day date)
RETURNS date
AS 'MODULE_PATHNAME','pst_last_day'
LANGUAGE C IMMUTABLE STRICT;
